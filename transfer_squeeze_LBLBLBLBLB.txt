/data/data/com.termux/files/home/ARMCL-RockPi//test_graph//graph_squeezenet_n_pipe_npu_lw  --target=CL --data=/data/data/com.termux/files/home/ARMCL-RockPi/assets/./squeezenet/ --image=/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/ --labels=/data/data/com.termux/files/home/ARMCL-RockPi/assets/./labels.txt --n=10 --save=0 --annotate=0 --partition_point=100 --partition_point2=100 --order=LBLBLBLBLB --layer_time=1 --threads=2  --threads2=4 --GPU_host=B --NPU_host=B 
pandoon
pandoon
pandoon

/data/data/com.termux/files/home/ARMCL-RockPi//test_graph//graph_squeezenet_n_pipe_npu_lw

Pandoon opened at 3
5 Input images are read from /data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/
NPU host: 4
Little Cores host: 3
Big Cores host: 5
GPU host: 4
Number of Layers: Threads : 2
Small Cores Threads : 4
Target : CL
10
Data type : F32
Data layout : NHWC
Tuner enabled? : false
Cache enabled? : true
Tuner mode : Normal
Tuner file : 
MLGO file : 
Fast math enabled? : false
Data path : /data/data/com.termux/files/home/ARMCL-RockPi/assets/./squeezenet/
Image file : /data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/space_shuttle_227.jpg
Labels file : /data/data/com.termux/files/home/ARMCL-RockPi/assets/./labels.txt
Partition point is : 100
Second partition point is : 100
Order is : LBLBLBLBLB
freqs of layers : 
GPU host is: B
NPU host is: B
Number of totla cores is : 6
Number of little cores is : 4
Run network for 10 times.
Layer timing: 1

start creating graph
creating image accessor
std::string task_names[] = { "conv1", "pool1" };
number of tasks: 2
std::set<std::string> end_task_names = { "pool1" };
number of end tasks: 1
std::set<std::string> start_task_names = { "conv1" };
number of start tasks: 1
after pass graph 0
std::string task_names[] = { "fire2/squeeze1x1", "fire2/expand1x1", "fire2/expand3x3", "fire2/concat" };
number of tasks: 4
std::set<std::string> end_task_names = { "fire2/concat" };
number of end tasks: 1
std::set<std::string> start_task_names = { "fire2/squeeze1x1" };
number of start tasks: 1
after pass graph 1
std::string task_names[] = { "fire3/squeeze1x1", "fire3/expand1x1", "fire3/expand3x3", "fire3/concat" };
number of tasks: 4
std::set<std::string> end_task_names = { "fire3/concat" };
number of end tasks: 1
std::set<std::string> start_task_names = { "fire3/squeeze1x1" };
number of start tasks: 1
after pass graph 2
std::string task_names[] = { "fire4/squeeze1x1", "fire4/expand1x1", "fire4/expand3x3", "fire4/concat", "pool4" };
number of tasks: 5
std::set<std::string> end_task_names = { "pool4" };
number of end tasks: 1
std::set<std::string> start_task_names = { "fire4/squeeze1x1" };
number of start tasks: 1
after pass graph 3
std::string task_names[] = { "fire5/squeeze1x1", "fire5/expand1x1", "fire5/expand3x3", "fire5/concat" };
number of tasks: 4
std::set<std::string> end_task_names = { "fire5/concat" };
number of end tasks: 1
std::set<std::string> start_task_names = { "fire5/squeeze1x1" };
number of start tasks: 1
after pass graph 4
std::string task_names[] = { "fire6/squeeze1x1", "fire6/expand1x1", "fire6/expand3x3", "fire6/concat" };
number of tasks: 4
std::set<std::string> end_task_names = { "fire6/concat" };
number of end tasks: 1
std::set<std::string> start_task_names = { "fire6/squeeze1x1" };
number of start tasks: 1
after pass graph 5
std::string task_names[] = { "fire7/squeeze1x1", "fire7/expand1x1", "fire7/expand3x3", "fire7/concat" };
number of tasks: 4
std::set<std::string> end_task_names = { "fire7/concat" };
number of end tasks: 1
std::set<std::string> start_task_names = { "fire7/squeeze1x1" };
number of start tasks: 1
after pass graph 6
std::string task_names[] = { "fire8/squeeze1x1", "fire8/expand1x1", "fire8/expand3x3", "fire8/concat", "pool8" };
number of tasks: 5
std::set<std::string> end_task_names = { "pool8" };
number of end tasks: 1
std::set<std::string> start_task_names = { "fire8/squeeze1x1" };
number of start tasks: 1
after pass graph 7
std::string task_names[] = { "fire9/squeeze1x1", "fire9/expand1x1", "fire9/expand3x3", "fire9/concat" };
number of tasks: 4
std::set<std::string> end_task_names = { "fire9/concat" };
number of end tasks: 1
std::set<std::string> start_task_names = { "fire9/squeeze1x1" };
number of start tasks: 1
after pass graph 8
std::string task_names[] = { "conv10", "pool10", "flatten", "prob" };
number of tasks: 4
std::set<std::string> end_task_names = { "prob" };
number of end tasks: 1
std::set<std::string> start_task_names = { "conv10" };
number of start tasks: 1
after pass graph 9
Total layers:10

0 Running Graph with min LW DVFS
task: conv1 set freq for next task to -1, -1, -1
task: pool1 set freq for next task to 0, 0, 0
task: fire2/squeeze1x1 set freq for next task to -1, -1, -1
task: fire2/expand1x1 set freq for next task to -1, -1, -1
task: fire2/expand3x3 set freq for next task to -1, -1, -1
task: fire2/concat set freq for next task to 0, 0, 0
task: fire3/squeeze1x1 set freq for next task to -1, -1, -1
task: fire3/expand1x1 set freq for next task to -1, -1, -1
task: fire3/expand3x3 set freq for next task to -1, -1, -1
task: fire3/concat set freq for next task to 0, 0, 0
task: fire4/squeeze1x1 set freq for next task to -1, -1, -1
task: fire4/expand1x1 set freq for next task to -1, -1, -1
task: fire4/expand3x3 set freq for next task to -1, -1, -1
task: fire4/concat set freq for next task to -1, -1, -1
task: pool4 set freq for next task to 0, 0, 0
task: fire5/squeeze1x1 set freq for next task to -1, -1, -1
task: fire5/expand1x1 set freq for next task to -1, -1, -1
task: fire5/expand3x3 set freq for next task to -1, -1, -1
task: fire5/concat set freq for next task to 0, 0, 0
task: fire6/squeeze1x1 set freq for next task to -1, -1, -1
task: fire6/expand1x1 set freq for next task to -1, -1, -1
task: fire6/expand3x3 set freq for next task to -1, -1, -1
task: fire6/concat set freq for next task to 0, 0, 0
task: fire7/squeeze1x1 set freq for next task to -1, -1, -1
task: fire7/expand1x1 set freq for next task to -1, -1, -1
task: fire7/expand3x3 set freq for next task to -1, -1, -1
task: fire7/concat set freq for next task to 0, 0, 0
task: fire8/squeeze1x1 set freq for next task to -1, -1, -1
task: fire8/expand1x1 set freq for next task to -1, -1, -1
task: fire8/expand3x3 set freq for next task to -1, -1, -1
task: fire8/concat set freq for next task to -1, -1, -1
task: pool8 set freq for next task to 0, 0, 0
task: fire9/squeeze1x1 set freq for next task to -1, -1, -1
task: fire9/expand1x1 set freq for next task to -1, -1, -1
task: fire9/expand3x3 set freq for next task to -1, -1, -1
task: fire9/concat set freq for next task to 0, 0, 0
task: conv10 set freq for next task to -1, -1, -1
task: pool10 set freq for next task to -1, -1, -1
task: flatten set freq for next task to -1, -1, -1
task: prob set freq for next task to 0, 0, 0


WarmUp: First graph inferencing image: 0:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/space_shuttle_227.jpg
Subgraph0 Ready to trigger Start Running
Subgraph1 Ready to trigger Start Running
Subgraph2 Ready to trigger Start Running
Subgraph3 Ready to trigger Start Running
Subgraph4 Ready to trigger Start Running
Subgraph5 Ready to trigger Start Running
Subgraph6 Ready to trigger Start Running
Subgraph7 Ready to trigger Start Running
Subgraph8 Ready to trigger Start Running
---------- Top 5 predictions ----------

0.9472 - [id = 812], n04266014 space shuttle
0.0188 - [id = 833], n04347754 submarine, pigboat, sub, U-boat
0.0139 - [id = 814], n04273569 speedboat
0.0037 - [id = 867], n04467665 trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi
0.0032 - [id = 871], n04483307 trimaran
Subgraph9 Ready to trigger Start Running







================================================
Start Running All Subgraphs ...
====================================================





First graph inferencing image: 0:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/space_shuttle_227.jpg


First graph inferencing image: 1:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/gold_fish.ppm
---------- Top 5 predictions ----------

0.9472 - [id = 812], n04266014 space shuttle
0.0188 - [id = 833], n04347754 submarine, pigboat, sub, U-boat
0.0139 - [id = 814], n04273569 speedboat
0.0037 - [id = 867], n04467665 trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi
0.0032 - [id = 871], n04483307 trimaran


First graph inferencing image: 2:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/gondola.ppm
---------- Top 5 predictions ----------

1.0000 - [id = 1], n01443537 goldfish, Carassius auratus
0.0000 - [id = 27], n01631663 eft
0.0000 - [id = 310], n02219486 ant, emmet, pismire
0.0000 - [id = 29], n01632777 axolotl, mud puppy, Ambystoma mexicanum
0.0000 - [id = 26], n01630670 common newt, Triturus vulgaris


First graph inferencing image: 3:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/school_bus.ppm
---------- Top 5 predictions ----------

0.9994 - [id = 576], n03447447 gondola
0.0001 - [id = 765], n04099969 rocking chair, rocker
0.0001 - [id = 536], n03216828 dock, dockage, docking facility
0.0001 - [id = 532], n03201208 dining table, board
0.0000 - [id = 540], n03240683 drilling platform, offshore rig


First graph inferencing image: 4:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/go_kart.ppm
---------- Top 5 predictions ----------

1.0000 - [id = 779], n04146614 school bus
0.0000 - [id = 705], n03895866 passenger car, coach, carriage
0.0000 - [id = 829], n04335435 streetcar, tram, tramcar, trolley, trolley car
0.0000 - [id = 675], n03796401 moving van
0.0000 - [id = 654], n03769881 minibus
start of graph: 0 for frame: 5


First graph inferencing image: 0:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/space_shuttle_227.jpg
---------- Top 5 predictions ----------

0.9995 - [id = 573], n03444034 go-kart
0.0001 - [id = 518], n03127747 crash helmet
0.0001 - [id = 621], n03649909 lawn mower, mower
0.0001 - [id = 665], n03785016 moped
0.0000 - [id = 817], n04285008 sports car, sport car


First graph inferencing image: 1:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/gold_fish.ppm
---------- Top 5 predictions ----------

0.9509 - [id = 812], n04266014 space shuttle
0.0182 - [id = 833], n04347754 submarine, pigboat, sub, U-boat
0.0125 - [id = 814], n04273569 speedboat
0.0032 - [id = 867], n04467665 trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi
0.0030 - [id = 871], n04483307 trimaran


First graph inferencing image: 2:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/gondola.ppm
---------- Top 5 predictions ----------

1.0000 - [id = 1], n01443537 goldfish, Carassius auratus
0.0000 - [id = 27], n01631663 eft
0.0000 - [id = 310], n02219486 ant, emmet, pismire
0.0000 - [id = 29], n01632777 axolotl, mud puppy, Ambystoma mexicanum
0.0000 - [id = 26], n01630670 common newt, Triturus vulgaris


First graph inferencing image: 3:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/school_bus.ppm
---------- Top 5 predictions ----------

0.9993 - [id = 576], n03447447 gondola
0.0001 - [id = 765], n04099969 rocking chair, rocker
0.0001 - [id = 536], n03216828 dock, dockage, docking facility
0.0001 - [id = 532], n03201208 dining table, board
0.0001 - [id = 540], n03240683 drilling platform, offshore rig


First graph inferencing image: 4:/data/data/com.termux/files/home/ARMCL-RockPi/assets/./ppm_images_227/go_kart.ppm
---------- Top 5 predictions ----------

1.0000 - [id = 779], n04146614 school bus
0.0000 - [id = 705], n03895866 passenger car, coach, carriage
0.0000 - [id = 829], n04335435 streetcar, tram, tramcar, trolley, trolley car
0.0000 - [id = 675], n03796401 moving van
0.0000 - [id = 654], n03769881 minibus
---------- Top 5 predictions ----------

0.9995 - [id = 573], n03444034 go-kart
0.0001 - [id = 518], n03127747 crash helmet
0.0001 - [id = 621], n03649909 lawn mower, mower
0.0001 - [id = 665], n03785016 moped
0.0000 - [id = 817], n04285008 sports car, sport car
Finishing power measurement with first subgraph9
0	Layer Name: conv1 	 Layer time: 59.1940 	 number of inputs: 3 	 input shape: 3x227x227 	 output shape: 96x111x111
1	Layer Name: pool1 	 Layer time: 5.7729 	 number of inputs: 1 	 input shape: 96x111x111 	 output shape: 96x55x55
Layer Number: 0 	 time: 64.9669
----------------------------

 Sum of Layers time: 64.9669

 input time of layer 0 : 582.4676

 transfer_time of layer 0 : 0.0000

 output time of layer 0 : 0.0353

 this part task time: 65.5897


Cost0:441.924
input0_time:582.468
task0_time:65.5897
output0_time:0.0353209
total0_time:648.093
***************************************

0	Layer Name: fire2/squeeze1x1 	 Layer time: 3.7194 	 number of inputs: 3 	 input shape: 96x55x55 	 output shape: 16x55x55
1	Layer Name: fire2/expand1x1 	 Layer time: 1.6363 	 number of inputs: 3 	 input shape: 16x55x55 	 output shape: 64x55x55
2	Layer Name: fire2/expand3x3 	 Layer time: 9.4606 	 number of inputs: 3 	 input shape: 16x55x55 	 output shape: 64x55x55
3	Layer Name: fire2/concat 	 Layer time: 2.4212 	 number of inputs: 2 	 input shape: 64x55x55 	 output shape: 128x55x55
Layer Number: 1 	 time: 17.2374
----------------------------

 Sum of Layers time: 17.2374

 input time of layer 1 : 1.2869

 transfer_time of layer 1 : 1.3222

 output time of layer 1 : 0.0284

 this part task time: 17.8266


Cost1:443.799
0	Layer Name: fire3/squeeze1x1 	 Layer time: 3.5021 	 number of inputs: 3 	 input shape: 128x55x55 	 output shape: 16x55x55
1	Layer Name: fire3/expand1x1 	 Layer time: 1.8847 	 number of inputs: 3 	 input shape: 16x55x55 	 output shape: 64x55x55
input1_time:1.28691
task1_time:17.8266
output1_time:0.0284377
total1_time:19.1419
***************************************

2	Layer Name: fire3/expand3x3 	 Layer time: 11.0912 	 number of inputs: 3 	 input shape: 16x55x55 	 output shape: 64x55x55
3	Layer Name: fire3/concat 	 Layer time: 1.6237 	 number of inputs: 2 	 input shape: 64x55x55 	 output shape: 128x55x55
Layer Number: 2 	 time: 18.1018
----------------------------

 Sum of Layers time: 18.1018

 input time of layer 2 : 1.6850

 transfer_time of layer 2 : 1.7134

 output time of layer 2 : 0.0336

 this part task time: 18.7683


Cost2:445.614
input2_time:1.68497
task2_time:18.7683
output2_time:0.0336
total2_time:20.4869
***************************************

0	Layer Name: fire4/squeeze1x1 	 Layer time: 9.4771 	 number of inputs: 3 	 input shape: 128x55x55 	 output shape: 32x55x55
1	Layer Name: fire4/expand1x1 	 Layer time: 6.9382 	 number of inputs: 3 	 input shape: 32x55x55 	 output shape: 128x55x55
2	Layer Name: fire4/expand3x3 	 Layer time: 24.9231 	 number of inputs: 3 	 input shape: 32x55x55 	 output shape: 128x55x55
3	Layer Name: fire4/concat 	 Layer time: 4.3348 	 number of inputs: 2 	 input shape: 128x55x55 	 output shape: 256x55x55
4	Layer Name: pool4 	 Layer time: 3.5683 	 number of inputs: 1 	 input shape: 256x55x55 	 output shape: 256x27x27
Layer Number: 3 	 time: 49.2416
----------------------------

 Sum of Layers time: 49.2416

 input time of layer 3 : 1.4941

 transfer_time of layer 3 : 1.5277

 output time of layer 3 : 0.0279

 this part task time: 49.8418


Cost3:450.639
input3_time:1.49407
task3_time:49.8418
output3_time:0.0278833
total3_time:51.3638
***************************************

0	Layer Name: fire5/squeeze1x1 	 Layer time: 2.7596 	 number of inputs: 3 	 input shape: 256x27x27 	 output shape: 32x27x27
1	Layer Name: fire5/expand1x1 	 Layer time: 1.6504 	 number of inputs: 3 	 input shape: 32x27x27 	 output shape: 128x27x27
2	Layer Name: fire5/expand3x3 	 Layer time: 7.5531 	 number of inputs: 3 	 input shape: 32x27x27 	 output shape: 128x27x27
3	Layer Name: fire5/concat 	 Layer time: 0.9819 	 number of inputs: 2 	 input shape: 128x27x27 	 output shape: 256x27x27
Layer Number: 4 	 time: 12.9450
----------------------------

 Sum of Layers time: 12.9450

 input time of layer 4 : 0.9445

 transfer_time of layer 4 : 0.9724

 output time of layer 4 : 0.0323

 this part task time: 13.6069


Cost4:451.967
input4_time:0.944475
task4_time:13.6069
output4_time:0.0322874
total4_time:14.5837
***************************************

0	Layer Name: fire6/squeeze1x1 	 Layer time: 6.4329 	 number of inputs: 3 	 input shape: 256x27x27 	 output shape: 48x27x27
1	Layer Name: fire6/expand1x1 	 Layer time: 2.9734 	 number of inputs: 3 	 input shape: 48x27x27 	 output shape: 192x27x27
2	Layer Name: fire6/expand3x3 	 Layer time: 11.3051 	 number of inputs: 3 	 input shape: 48x27x27 	 output shape: 192x27x27
3	Layer Name: fire6/concat 	 Layer time: 2.1305 	 number of inputs: 2 	 input shape: 192x27x27 	 output shape: 384x27x27
Layer Number: 5 	 time: 22.8420
----------------------------

 Sum of Layers time: 22.8420

 input time of layer 5 : 0.7219

 transfer_time of layer 5 : 0.7542

 output time of layer 5 : 0.0286

 this part task time: 23.4267


Cost5:454.416
input5_time:0.721942
task5_time:23.4267
output5_time:0.0286125
total5_time:24.1773
***************************************

0	Layer Name: fire7/squeeze1x1 	 Layer time: 5.0137 	 number of inputs: 3 	 input shape: 384x27x27 	 output shape: 48x27x27
1	Layer Name: fire7/expand1x1 	 Layer time: 3.1010 	 number of inputs: 3 	 input shape: 48x27x27 	 output shape: 192x27x27
2	Layer Name: fire7/expand3x3 	 Layer time: 12.5375 	 number of inputs: 3 	 input shape: 48x27x27 	 output shape: 192x27x27
3	Layer Name: fire7/concat 	 Layer time: 1.2980 	 number of inputs: 2 	 input shape: 192x27x27 	 output shape: 384x27x27
Layer Number: 6 	 time: 21.9501
----------------------------

 Sum of Layers time: 21.9501

 input time of layer 6 : 1.2300

 transfer_time of layer 6 : 1.2586

 output time of layer 6 : 0.0333

 this part task time: 22.6259


Cost6:456.652
input6_time:1.22995
task6_time:22.6259
output6_time:0.0333081
total6_time:23.8892
***************************************

0	Layer Name: fire8/squeeze1x1 	 Layer time: 13.0015 	 number of inputs: 3 	 input shape: 384x27x27 	 output shape: 64x27x27
1	Layer Name: fire8/expand1x1 	 Layer time: 6.6855 	 number of inputs: 3 	 input shape: 64x27x27 	 output shape: 256x27x27
2	Layer Name: fire8/expand3x3 	 Layer time: 20.0978 	 number of inputs: 3 	 input shape: 64x27x27 	 output shape: 256x27x27
3	Layer Name: fire8/concat 	 Layer time: 2.2756 	 number of inputs: 2 	 input shape: 256x27x27 	 output shape: 512x27x27
4	Layer Name: pool8 	 Layer time: 1.7982 	 number of inputs: 1 	 input shape: 512x27x27 	 output shape: 512x13x13
Layer Number: 7 	 time: 43.8587
----------------------------

 Sum of Layers time: 43.8587

 input time of layer 7 : 1.0472

 transfer_time of layer 7 : 1.0805

 output time of layer 7 : 0.0280

 this part task time: 44.4337


Cost7:462.616
input7_time:1.04715
task7_time:44.4337
output7_time:0.0279999
total7_time:45.5088
***************************************

0	Layer Name: fire9/squeeze1x1 	 Layer time: 2.4541 	 number of inputs: 3 	 input shape: 512x13x13 	 output shape: 64x13x13
1	Layer Name: fire9/expand1x1 	 Layer time: 1.3230 	 number of inputs: 3 	 input shape: 64x13x13 	 output shape: 256x13x13
2	Layer Name: fire9/expand3x3 	 Layer time: 8.4113 	 number of inputs: 3 	 input shape: 64x13x13 	 output shape: 256x13x13
3	Layer Name: fire9/concat 	 Layer time: 0.7139 	 number of inputs: 2 	 input shape: 256x13x13 	 output shape: 512x13x13
Layer Number: 8 	 time: 12.9022
----------------------------

 Sum of Layers time: 12.9022

 input time of layer 8 : 0.5619

 transfer_time of layer 8 : 0.5899

 output time of layer 8 : 0.0308

 this part task time: 13.5719


Cost8:463.96
input8_time:0.561879
task8_time:13.5719
output8_time:0.0308293
total8_time:14.1646
***************************************

0	Layer Name: conv10 	 Layer time: 66.7003 	 number of inputs: 3 	 input shape: 512x13x13 	 output shape: 1000x13x13
1	Layer Name: pool10 	 Layer time: 0.9661 	 number of inputs: 1 	 input shape: 1000x13x13 	 output shape: 1000
2	Layer Name: flatten 	 Layer time: 0.1968 	 number of inputs: 1 	 input shape: 1000 	 output shape: 1000
3	Layer Name: prob 	 Layer time: 0.1523 	 number of inputs: 1 	 input shape: 1000 	 output shape: 1000
Layer Number: 9 	 time: 68.0155
----------------------------

 Sum of Layers time: 68.0155

 input time of layer 9 : 0.3893

 transfer_time of layer 9 : 0.4201

 output time of layer 9 : 1.2849

 this part task time: 68.5512


Cost9:468.883
input9_time:0.3893
task9_time:68.5512
output9_time:1.28494
total9_time:70.2255
***************************************

Frame Latency: 762.527
Profiling these DVFS settings finised

Test passed
